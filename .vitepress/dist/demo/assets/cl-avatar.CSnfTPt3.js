import{d as a,f as e,o as s,a as r,w as l,r as o,v as t,F as n,p as d,n as c,b as i,q as p,t as u,y,i as f,H as m}from"./index-CYp4B_QH.js";import{j as _,u as h}from"./cl-page.CV4Clf1q.js";import{_ as v}from"./_plugin-vue_export-helper.C5tT7wvf.js";const z=v(a({name:"cl-avatar",props:{src:String,name:{type:String,default:""},lazyLoad:Boolean,size:{type:Number,default:80},shape:{type:String,default:"circle"},mode:{type:String,default:"scaleToFill"}},emits:["error","load"],setup(a,{emit:s}){const r=e(!1);return{isError:r,handleLoad:function(a){r.value=!1,s("load",a)},handleError:function(a){r.value=!0,s("error",a)},..._(s),...h()}}}),[["render",function(a,e,_,h,v,z){const g=y,$=f,k=m;return s(),r($,{class:c(["cl-avatar",`cl-avatar--${a.shape}`]),style:i([{height:a.parseRpx(a.size),width:a.parseRpx(a.size)},a.baseStyle]),onClick:a.tap},{default:l((()=>[a.$slots.default||a.$slots.$default?o(a.$slots,"default",{key:0}):(s(),t(n,{key:1},[a.src?a.isError?o(a.$slots,"error",{key:1},(()=>[d($,{class:"cl-avatar__error"},{default:l((()=>[p(" Error ")])),_:1})])):(s(),r(k,{key:2,class:"cl-avatar__target",src:a.src,mode:a.mode,"lazy-load":a.lazyLoad,onError:a.handleError,onLoad:a.handleLoad},null,8,["src","mode","lazy-load","onError","onLoad"])):o(a.$slots,"placeholder",{key:0},(()=>[d($,{class:"cl-avatar__placeholder"},{default:l((()=>[d(g,{class:c({"cl-icon-my":!a.name}),style:i({fontSize:a.parseRpx(a.size/2)})},{default:l((()=>[p(u(a.name[0]),1)])),_:1},8,["class","style"])])),_:1})]))],64))])),_:3},8,["class","style","onClick"])}]]);export{z as _};
