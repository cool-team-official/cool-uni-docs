import{d as l,r as e,c as a,B as t,ac as o,a6 as s,ad as u,T as n,ag as r,a8 as i,e as d,f as c,g as f,h as p,w as b,j as v,N as m,n as _,p as y,F as h,E as w,V as g,D as x,v as k,ah as V,k as C,t as j,x as B,l as D}from"./index-Dlau7bkh.js";import{p as L,_ as I,b as S}from"./cl-page.C3y_EXfh.js";import{_ as U}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as N}from"./cl-card.BPBZxryb.js";import{_ as R}from"./cl-tag.CClJOHWp.js";import{u as $}from"./index.AbH2Jzti.js";import"./cl-text.DUw3LhC2.js";const A=U(l({name:"cl-tabs",props:{modelValue:[String,Number],height:{type:[String,Number],default:80},list:{type:Array,default:[]},loop:{type:Boolean,default:!0},fill:Boolean,justify:{type:String,default:"start"},border:{type:Boolean,default:!0},gutter:{type:Number,default:30},color:{type:String,default:""},unColor:{type:String,default:""},backgroundColor:{type:String,default:"#fff"},showDropdown:Boolean,showLine:{type:Boolean,default:!0},showslider:{type:Boolean,default:!1},checkable:Boolean,disabled:Boolean},emits:["update:modelValue","change"],setup(l,{emit:d}){const{proxy:c}=i(),f=e(),p=e(0),b=a({width:0,left:0}),v=e(0),m=e(0),_=e(375),y=t((()=>l.list));function h(){u((()=>{n().in(c).select(".cl-tabs").boundingClientRect((l=>{m.value=l.left,_.value=l.width,u((()=>{n().in(c).selectAll(".cl-tabs__bar-item").fields({rect:!0,size:!0},(()=>{})).exec((l=>{k.value=l[0],V()}))}))})).exec()}))}const w=a({visible:!1});async function g(e){if(l.disabled)return!1;let{value:a}=y.value[e];l.checkable&&a==f.value&&(a=void 0),d("update:modelValue",a),d("change",a),f.value=a}function x(){return y.value.findIndex((l=>l.value==f.value))}const k=e();function V(){k.value&&u((()=>{let l=k.value[x()];if(l){let e=l.left-(_.value-l.width)/2-m.value;e<0&&(e=0),v.value=e,p.value=l.left+l.width/2-r(16)-m.value,b.left=l.left-m.value,b.width=l.width}}))}return o((()=>l.modelValue),(l=>{f.value=l,V()}),{immediate:!0}),o((()=>l.list),h),s((()=>{h()})),{current:f,scrollLeft:v,lineLeft:p,slider:b,tabs:y,dropdown:w,getColor:function(e){return f.value!==e.value?l.unColor:l.color?l.color:l.showslider?"#fff":void 0},change:g,prev:function(){let e=x();g(e<=0?l.loop?y.value.length-1:0:e-1)},next:function(){let e=x();g(e>=y.value.length-1?l.loop?0:y.value.length-1:e+1)},openDropdown:function(){w.visible=!w.visible},closeDropdown:function(){w.visible=!1},parseRpx:L}}}),[["render",function(l,e,a,t,o,s){const u=B,n=k,r=V,i=d(c("cl-icon"),I);return f(),p(n,{class:x(["cl-tabs",[{"is-content":l.$slots.default,"is-fill":l.fill,"is-border":l.border,"is-dropdown":l.showDropdown,"is-checkable":l.checkable}]]),style:m({backgroundColor:l.backgroundColor})},{default:b((()=>[v(n,{class:"cl-tabs__inner"},{default:b((()=>[v(r,{class:"cl-tabs__bar","scroll-with-animation":"","scroll-x":"","scroll-left":l.scrollLeft,style:m({height:l.parseRpx(l.height)})},{default:b((()=>[v(n,{class:"cl-tabs__bar-box",style:m({"justify-content":l.justify})},{default:b((()=>[(f(!0),_(h,null,y(l.tabs,((e,a)=>(f(),p(n,{class:x(["cl-tabs__bar-item",{"is-active":l.current===e.value}]),key:a,style:m({color:l.getColor(e),padding:`0 ${l.gutter}rpx`}),onClick:e=>l.change(a)},{default:b((()=>[e.prefixIcon?(f(),p(u,{key:0,class:x(["cl-tabs__icon is-prefix",[e.prefixIcon]])},null,8,["class"])):w("",!0),v(u,{class:"cl-tabs__label"},{default:b((()=>[C(j(e.label),1)])),_:2},1024),e.suffixIcon?(f(),p(u,{key:1,class:x(["cl-tabs__icon is-suffix",[e.suffixIcon]])},null,8,["class"])):w("",!0)])),_:2},1032,["style","class","onClick"])))),128)),l.lineLeft>0?(f(),_(h,{key:0},[l.showLine?(f(),p(n,{key:0,class:"cl-tabs__line",style:m({"background-color":l.color,left:l.lineLeft+"px"})},null,8,["style"])):w("",!0),l.showslider?(f(),p(n,{key:1,class:"cl-tabs__slider",style:m({"background-color":l.color,left:l.slider.left+"px",width:l.slider.width+"px"})},null,8,["style"])):w("",!0)],64)):w("",!0)])),_:1},8,["style"])])),_:1},8,["scroll-left","style"]),l.showDropdown?(f(),p(n,{key:0,class:"cl-tabs__dropdown",onClick:l.openDropdown},{default:b((()=>[v(i,{name:""+(l.dropdown.visible?"arrow-top":"arrow-bottom")},null,8,["name"])])),_:1},8,["onClick"])):w("",!0),v(n,{class:"cl-tabs__dropdown-box",style:m({opacity:l.dropdown.visible?"1":"0"})},{default:b((()=>[g(l.$slots,"dropdown")])),_:3},8,["style"])])),_:3})])),_:3},8,["class","style"])}]]),z=l({name:"undefined"}),E=U(l({...z,setup(l){const{refs:a,setRefs:t}=$(),o=e(1),s=e([{label:"百亿补贴",value:1},{label:"包邮",value:2},{label:"限时达",value:3},{label:"同城速配",value:4},{label:"货到付款",value:5},{label:"分期免息",value:6},{label:"配送全球",value:7},{label:"促销",value:8}]),u=e(2),n=e([{label:"盒装",value:1},{label:"纸包装",value:2},{label:"袋装",value:3},{label:"罐装",value:4}]);return(l,e)=>{const r=d(c("cl-tabs"),A),i=d(c("cl-card"),N),m=d(c("cl-tag"),R),w=k,g=d(c("cl-page"),S);return f(),p(g,{padding:20},{default:b((()=>[v(i,{label:"基础用法"},{default:b((()=>[v(r,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),list:s.value},null,8,["modelValue","list"])])),_:1}),v(i,{label:"下拉框"},{default:b((()=>[v(r,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),border:!1,list:s.value,"show-dropdown":"",ref:D(t)("tabs")},{dropdown:b((()=>[v(w,{class:"dropdown"},{default:b((()=>[(f(!0),_(h,null,y(s.value,(l=>(f(),p(m,{key:l.value,margin:10,type:o.value===l.value?"primary":"info",onClick:e=>{return t=l.value,o.value=t,void a.tabs.closeDropdown();var t}},{default:b((()=>[C(j(l.label),1)])),_:2},1032,["type","onClick"])))),128))])),_:1})])),_:1},8,["modelValue","list"])])),_:1}),v(i,{label:"居中"},{default:b((()=>[v(r,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value=l),list:n.value,justify:"center"},null,8,["modelValue","list"])])),_:1}),v(i,{label:"填充"},{default:b((()=>[v(r,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=l=>u.value=l),list:n.value,fill:""},null,8,["modelValue","list"])])),_:1}),v(i,{label:"块状"},{default:b((()=>[v(r,{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=l=>u.value=l),list:n.value,"show-line":!1,"show-slider":!0},null,8,["modelValue","list"])])),_:1}),v(i,{label:"自定义"},{default:b((()=>[v(r,{modelValue:o.value,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value=l),list:s.value,border:!1,color:"red","background-color":"f6f7fa","show-line":!1},null,8,["modelValue","list"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-126a4f97"]]);export{E as default};
