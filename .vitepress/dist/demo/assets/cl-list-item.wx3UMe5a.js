import{d as s,c as e,A as t,aa as l,a4 as o,S as a,a6 as i,o as n,a as c,w as r,p as u,b as d,r as p,G as m,q as f,t as _,n as h,i as w,y}from"./index-CYp4B_QH.js";import{g as b,j as x,u as v}from"./cl-page.CV4Clf1q.js";import{i as g}from"./isBoolean.K54iZHq8.js";import{_ as T}from"./_plugin-vue_export-helper.C5tT7wvf.js";const k=T(s({name:"cl-list-item",props:{label:String,type:String,justify:String,swipe:String,disabled:{type:Boolean,default:null},border:{type:Boolean,default:null},arrowIcon:{type:Boolean,default:!0}},setup(s,{slots:n,emit:c}){const r=i(),u=b("cl-list",["justify","border","disabled"]),d=e((()=>{var e;return g(s.disabled)?s.disabled:null==(e=u.value)?void 0:e.disabled})),p=e((()=>{var e;return[{"is-disabled":d.value,"is-append":!!n.append,"is-swipe":!!s.swipe,"is-border":g(s.border)?s.border:null==(e=u.value)?void 0:e.border}]})),m=e((()=>{var e;const t=[];return s.type&&t.push(`is-color-${s.type}`),[`is-color-${s.type}`,`is-justify-${s.justify||(null==(e=u.value)?void 0:e.justify)||"end"}`]})),f=t({start:0,end:0,x:0,maxX:0,direction:"left",lock:!0}),_=t({width:0}),h=e((()=>s.swipe?`translateX(${f.x}px)`:"none"));function w(){if(s.swipe){a().in(null==r?void 0:r.proxy).select(`.cl-list-item__menu-${s.swipe}`).boundingClientRect((e=>{e&&(_.width=e.width||0,f.maxX=_.width*("right"===s.swipe?-1:1))})).exec()}}return l((()=>s.swipe),w),o((()=>{w()})),{itemClass:p,contentClass:m,touch:f,menu:_,transform:h,restore:function(s){f.start=0,f.end=0,f.lock=!0,f.x=0,s&&setTimeout((()=>{s()}),300)},onTouchStart:function(e){s.swipe&&(f.start=e.touches[0].pageX,f.lock=!1)},onTouchMove:function(e){const{start:t,end:l,lock:o,maxX:a}=f;if(!o){const o=e.touches[0].pageX-t;f.direction=o>0?"right":"left";let i=l+o;"left"==s.swipe&&(i>a&&(i=a),i<0&&(i=0)),"right"==s.swipe&&(i<a&&(i=a),i>0&&(i=0)),f.x=i}},onTouchEnd:function(){const{direction:e,x:t,end:l,lock:o,maxX:a}=f,i=_.width/2>50?50:_.width/2;o||(Math.abs(t-l)>i?(e===s.swipe?f.x=0:f.x=a,f.end=f.x):f.x=0===l?0:a,f.lock=!0)},...x(c),...v()}}}),[["render",function(s,e,t,l,o,a){const i=w,b=y;return n(),c(i,{class:h(["cl-list-item",[s.itemClass]]),style:d([s.baseStyle]),onTouchstart:s.onTouchStart,onTouchmove:s.onTouchMove,onTouchend:s.onTouchEnd,onClick:s.tap},{default:r((()=>[u(i,{class:"cl-list-item__swiper",style:d({transform:s.transform})},{default:r((()=>[u(i,{class:"cl-list-item__container"},{default:r((()=>[s.$slots.icon?(n(),c(i,{key:0,class:"cl-list-item__icon"},{default:r((()=>[p(s.$slots,"icon")])),_:3})):m("",!0),s.label&&"true"!=s.label?(n(),c(b,{key:1,class:"cl-list-item__label"},{default:r((()=>[f(_(s.label),1)])),_:1})):m("",!0),u(i,{class:h(["cl-list-item__content",s.contentClass])},{default:r((()=>[p(s.$slots,"default")])),_:3},8,["class"]),u(i,{class:"cl-list-item__append"},{default:r((()=>[p(s.$slots,"append",{},(()=>[s.arrowIcon?(n(),c(b,{key:0,class:"cl-icon-arrow-right"})):m("",!0)]))])),_:3})])),_:3}),s.swipe?(n(),c(i,{key:0,class:h([`cl-list-item__menu-${s.swipe}`])},{default:r((()=>[p(s.$slots,"menu")])),_:3},8,["class"])):m("",!0)])),_:3},8,["style"])])),_:3},8,["class","style","onTouchstart","onTouchmove","onTouchend","onClick"])}]]);export{k as _};
