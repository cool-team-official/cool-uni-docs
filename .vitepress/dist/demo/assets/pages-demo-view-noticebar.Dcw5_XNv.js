import{p as t,_ as e,b as l}from"./cl-page.C3y_EXfh.js";import{d as a,r as o,c as s,B as r,a6 as n,a7 as i,T as c,a8 as u,a9 as d,e as b,f as p,g as f,h as _,w as x,E as m,V as g,j as h,D as y,N as k,n as v,p as j,F as C,v as S,k as z,t as X,x as $}from"./index-Dlau7bkh.js";import{_ as R}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as T}from"./cl-card.BPBZxryb.js";import"./index.AbH2Jzti.js";import"./cl-text.DUw3LhC2.js";const w=R(a({name:"cl-noticebar",props:{text:{type:[String,Array],default:"",required:!0},direction:{type:String,default:"horizontal"},color:String,backgroundColor:String,scrollable:Boolean,duration:{type:Number,default:10},closeable:Boolean,icon:String,height:{type:[String,Number],default:40}},emits:["close"],setup(e,{emit:l}){const{proxy:a}=u(),b=o(!0),p=s({left:0,top:0,translateX:0,duration:0});let f=null;const _=r((()=>d(e.text)?e.text:[e.text])),x=r((()=>"horizontal"==e.direction?`transform ${p.duration}s linear`:"top 0.3s"));function m(){e.scrollable&&(g(),c().in(a).select(".cl-noticebar__box").boundingClientRect((t=>{c().in(a).select(".cl-noticebar__text").boundingClientRect((l=>{const a=1e3*e.duration;if("horizontal"==e.direction){const o=()=>{p.duration=e.duration,p.left=t.width,p.translateX=l.width+p.left,f=setTimeout((()=>{p.translateX=0,p.duration=0,setTimeout(o,500)}),a)};o()}else f=setInterval((()=>{Math.abs(p.top)>=t.height*(_.value.length-1)?p.top=0:p.top-=t.height}),a)})).exec()})).exec())}function g(){clearInterval(f),clearTimeout(f),f=null}return n((()=>{m()})),i((()=>{g()})),{visible:b,scroll:p,list:_,transition:x,refresh:m,close:function(){g(),b.value=!1,l("close")},clear:g,parseRpx:t}}}),[["render",function(t,l,a,o,s,r){const n=b(p("cl-icon"),e),i=$,c=S;return t.visible?(f(),_(c,{key:0,class:y(["cl-noticebar",[{"is-scrollable":t.scrollable}]]),style:k({color:t.color,backgroundColor:t.backgroundColor})},{default:x((()=>[t.closeable?(f(),_(n,{key:0,name:"close-border",size:34,margin:[0,10,0,0],onClick:t.close},null,8,["onClick"])):m("",!0),g(t.$slots,"icon",{},(()=>[t.icon?(f(),_(n,{key:0,"class-name":t.icon,size:34,margin:[0,10,0,0]},null,8,["class-name"])):m("",!0)])),h(c,{class:"cl-noticebar__box"},{default:x((()=>[h(c,{class:y(["cl-noticebar__scroller",[`is-${t.direction}`]]),style:k({height:t.parseRpx(t.height),top:t.scroll.top+"px",left:t.scroll.left+"px",transition:t.transition,transform:`translateX(-${t.scroll.translateX}px)`})},{default:x((()=>[(f(!0),v(C,null,j(t.list,((t,e)=>(f(),_(c,{class:"cl-noticebar__item",key:e},{default:x((()=>[h(i,{class:"cl-noticebar__text"},{default:x((()=>[z(X(t),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["class","style"])])),_:1})])),_:3},8,["class","style"])):m("",!0)}]]);const B=R({},[["render",function(t,e){const a=b(p("cl-noticebar"),w),o=b(p("cl-card"),T),s=b(p("cl-page"),l);return f(),_(s,{padding:20},{default:x((()=>[h(o,{label:"基础用法"},{default:x((()=>[h(a,{text:"云想衣裳花想容，春风拂槛露华浓。"})])),_:1}),h(o,{label:"带图标"},{default:x((()=>[h(a,{icon:"cl-icon-notification",text:"云想衣裳花想容，春风拂槛露华浓。"})])),_:1}),h(o,{label:"可关闭"},{default:x((()=>[h(a,{text:"云想衣裳花想容，春风拂槛露华浓。",closeable:""})])),_:1}),h(o,{label:"可滑动"},{default:x((()=>[h(a,{text:"云想衣裳花想容，春风拂槛露华浓。",scrollable:""})])),_:1}),h(o,{label:"不同方向"},{default:x((()=>[h(a,{text:["云想衣裳花想容，春风拂槛露华浓云想衣裳花想容，春风拂槛露华浓云想衣裳花想容，春风拂槛露华浓。","这世界那么多人","目光所至则心向往之"],direction:"vertical",scrollable:"",duration:3})])),_:1})])),_:1})}]]);export{B as default};
