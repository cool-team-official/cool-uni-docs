import{d as e,ae as a,r as o,ac as l,B as n,am as s,g as t,h as r,w as c,E as d,V as u,j as i,ax as p,ay as f,D as h,N as y,v as m,a4 as b,x as g}from"./index-Dlau7bkh.js";import{k as _,u as v,j as B}from"./cl-page.C3y_EXfh.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=S(e({name:"cl-input",props:{modelValue:{type:String,default:""},type:{type:String,default:"text"},password:Boolean,placeholder:{type:String,default:a("请填写")},clearable:{type:Boolean,default:!0},placeholderStyle:Object,placeholderClass:String,readonly:Boolean,disabled:Boolean,round:Boolean,border:{type:Boolean,default:!0},focus:Boolean,maxlength:{type:[Number,String],default:140},cursorSpacing:{type:Number,default:0},confirmType:{type:String,default:"done"},confirmHold:Boolean,adjustPosition:{type:Boolean,default:!0},holdKeyboard:{type:Boolean,default:!1}},setup(e,{emit:a}){const{tap:t}=B(a),r=_(),c=o("");l((()=>e.modelValue),(e=>{c.value=e}),{immediate:!0});const d=o(e.focus),u=n((()=>r.disabled.value||e.disabled)),i=n((()=>{const a={lineHeight:1,color:"#a8abb2",...e.placeholderStyle};return s(a).map((e=>`${e}:${a[e]};`)).join("")}));function p(){a("search",c.value)}return{value:c,isDisabled:u,isFocus:d,click:function(e){u.value||t(e)},onInput:function(){a("update:modelValue",c.value),a("change",c.value),d.value=Boolean(c.value)},onFocus:function(e){a("focus",e),c.value&&(d.value=!0)},onBlur:function(e){a("blur",e),setTimeout((()=>{d.value=!1}),0)},onConfirm:function(e){a("confirm",e),p()},search:p,clear:function(){c.value="",a("update:modelValue",""),a("change",""),a("clear")},onKeyboardheightchange:function(e){a("keyboardheightchange",e)},placeholderStyle:i,...v({padding:"0 20rpx",fontSize:26})}}}),[["render",function(e,a,o,l,n,s){const _=m,v=b,B=g;return t(),r(_,{class:h(["cl-input",[{"is-round":e.round,"is-border":e.border,"is-disabled":e.isDisabled,"is-focus":e.isFocus}]]),style:y([e.baseStyle]),onClick:e.click},{default:c((()=>[e.readonly?(t(),r(_,{key:0,class:"cl-input__readonly"})):d("",!0),e.$slots.prepend?(t(),r(_,{key:1,class:"cl-input__prepend"},{default:c((()=>[u(e.$slots,"prepend")])),_:3})):d("",!0),i(_,{class:"cl-input__wrap"},{default:c((()=>[i(v,{class:"cl-input__inner",modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=a=>e.value=a),type:e.type,password:e.password,placeholder:e.placeholder,disabled:e.isDisabled,focus:e.focus,"placeholder-style":e.placeholderStyle,"placeholder-class":e.placeholderClass,maxlength:e.maxlength,"cursor-spacing":e.cursorSpacing,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"adjust-position":e.adjustPosition,holdKeyboard:e.holdKeyboard,onInput:e.onInput,onFocus:e.onFocus,onBlur:e.onBlur,onConfirm:e.onConfirm,onKeyboardheightchange:e.onKeyboardheightchange},null,8,["modelValue","type","password","placeholder","disabled","focus","placeholder-style","placeholder-class","maxlength","cursor-spacing","confirm-type","confirm-hold","adjust-position","holdKeyboard","onInput","onFocus","onBlur","onConfirm","onKeyboardheightchange"]),p(i(_,{class:"cl-input__clear",onClick:e.clear},{default:c((()=>[i(B,{class:"cl-icon-close-border"})])),_:1},8,["onClick"]),[[f,e.isFocus&&e.clearable]])])),_:1}),e.$slots.append?(t(),r(_,{key:2,class:"cl-input__append"},{default:c((()=>[u(e.$slots,"append")])),_:3})):d("",!0)])),_:3},8,["class","style","onClick"])}]]);export{j as _};
