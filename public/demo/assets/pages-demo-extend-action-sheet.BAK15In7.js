import{d as e,b as l,r as n,e as o,f as a,g as t,h as c,w as s,j as i,k as r,t as u,E as f,n as d,p,F as _,v as m,a3 as b,D as v,N as k,x as h}from"./index-Dlau7bkh.js";import{_ as C,a as g,c as x,b as y}from"./cl-page.C3y_EXfh.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as E}from"./cl-card.BPBZxryb.js";import{u as O}from"./index.Dnq2RgDG.js";import"./index.AbH2Jzti.js";import"./cl-text.DUw3LhC2.js";const w=j(e({name:"cl-action-sheet",setup(){const{t:e}=l(),o=n(!1),a=n({});function t(e){const l=()=>{o.value=!1,a.value.callback&&a.value.callback(e)};a.value.beforeClose?a.value.beforeClose(e,l):l()}return{visible:o,conf:a,open:function(l){a.value=Object.assign({title:"",list:[],callback:null,closeOnClickModal:!0,showCancel:!0,cancelText:e("取消")},l),o.value=!0},close:t,select:function(e,l){if(l.disabled)return!1;l.click?l.click((()=>{o.value=!1})):t(e)},onEvent:function(e,l){e[l]&&e[l]()}}}}),[["render",function(e,l,n,x,y,j){const E=m,O=o(a("cl-icon"),C),w=h,G=b,T=o(a("cl-popup"),g);return t(),c(E,{class:"cl-action-sheet"},{default:s((()=>[i(T,{modelValue:e.visible,"onUpdate:modelValue":l[1]||(l[1]=l=>e.visible=l),direction:"bottom",padding:0,"border-radius":"32rpx 32rpx 0 0","close-on-click-modal":e.conf.closeOnClickModal},{default:s((()=>[e.conf.title?(t(),c(E,{key:0,class:"cl-action-sheet__title"},{default:s((()=>[r(u(e.conf.title),1)])),_:1})):f("",!0),i(E,{class:"cl-action-sheet__list"},{default:s((()=>[(t(!0),d(_,null,p(e.conf.list,((l,n)=>(t(),c(G,{class:v(["cl-action-sheet__item",[l.disabled?"is-disabled":""]]),key:n,style:k({color:l.color,fontSize:l.size}),"open-type":l.openType,onGetphonenumber:n=>e.onEvent(l,"getphonenumber"),onGetuserinfo:n=>e.onEvent(l,"getuserinfo"),onContact:n=>e.onEvent(l,"contact"),onError:n=>e.onEvent(l,"error"),onOpensetting:n=>e.onEvent(l,"opensetting"),onClick:o=>e.select(n,l)},{default:s((()=>[l.icon?(t(),c(O,{key:0,"class-name":l.icon,size:34,margin:[0,10,0,0]},null,8,["class-name"])):f("",!0),i(w,{class:"cl-action-sheet__label"},{default:s((()=>[r(u(l.label),1)])),_:2},1024)])),_:2},1032,["class","style","open-type","onGetphonenumber","onGetuserinfo","onContact","onError","onOpensetting","onClick"])))),128)),e.conf.showCancel?(t(),c(G,{key:0,class:"cl-action-sheet__item cl-action-sheet__item--cancel",onClick:l[0]||(l[0]=l=>e.close("cancel"))},{default:s((()=>[r(u(e.conf.cancelText),1)])),_:1})):f("",!0)])),_:1})])),_:1},8,["modelValue","close-on-click-modal"])])),_:1})}]]),G=e({name:"undefined"}),T=e({...G,setup(e){const l=O(),u=n();function f(){var e;null==(e=u.value)||e.open({list:[{label:"删除好友"}]})}function d(){var e;null==(e=u.value)||e.open({list:[{label:"微信支付",icon:"cl-icon-payment"}]})}function p(){var e;null==(e=u.value)||e.open({title:"删除好友会同时删除所有聊天记录",list:[{label:"删除好友",color:"red"}]})}function _(){var e;null==(e=u.value)||e.open({closeOnClickModal:!1,list:[{label:"删除好友",color:"red"}],beforeClose(e,n){0==e?l.showConfirm({title:"提示",message:"是否删除该联系人",callback(e){"confirm"==e&&l.showToast("删除成功"),n()}}):n()}})}return(e,l)=>{const n=o(a("cl-action-sheet"),w),m=o(a("cl-button"),x),b=o(a("cl-card"),E),v=o(a("cl-page"),y);return t(),c(v,{padding:20},{default:s((()=>[i(n,{ref_key:"ActionSheet",ref:u},null,512),i(b,{label:"基础用法"},{default:s((()=>[i(m,{onClick:f},{default:s((()=>[r("打开")])),_:1})])),_:1}),i(b,{label:"添加图标"},{default:s((()=>[i(m,{onClick:d},{default:s((()=>[r("打开")])),_:1})])),_:1}),i(b,{label:"禁用"},{default:s((()=>[i(m,{onClick:p},{default:s((()=>[r("打开")])),_:1})])),_:1}),i(b,{label:"关闭回调"},{default:s((()=>[i(m,{onClick:_},{default:s((()=>[r("打开")])),_:1})])),_:1})])),_:1})}}});export{T as default};
