import{d as a,r as e,c as s,e as r,w as l,R as o,i as t,F as n,f as c,z as d,J as i,g as p,t as u,k as f,l as y,B as m}from"./index-BXs9N0aO.js";import{j as _,u as h}from"./cl-page.D0l32468.js";import{_ as z}from"./_plugin-vue_export-helper.D4XvEQHf.js";const g=z(a({name:"cl-avatar",props:{src:String,name:{type:String,default:""},lazyLoad:Boolean,size:{type:Number,default:80},shape:{type:String,default:"circle"},mode:{type:String,default:"scaleToFill"}},emits:["error","load"],setup(a,{emit:s}){const r=e(!1);return{isError:r,handleLoad:function(a){r.value=!1,s("load",a)},handleError:function(a){r.value=!0,s("error",a)},..._(s),...h()}}}),[["render",function(a,e,_,h,z,g){const v=f,k=y,E=m;return s(),r(k,{class:d(["cl-avatar",`cl-avatar--${a.shape}`]),style:i([{height:a.parseRpx(a.size),width:a.parseRpx(a.size)},a.baseStyle]),onClick:a.tap},{default:l((()=>[a.$slots.default||a.$slots.$default?o(a.$slots,"default",{key:0}):(s(),t(n,{key:1},[a.src?a.isError?o(a.$slots,"error",{key:1},(()=>[c(k,{class:"cl-avatar__error"},{default:l((()=>[p(" Error ")])),_:1})])):(s(),r(E,{key:2,class:"cl-avatar__target",src:a.src,mode:a.mode,"lazy-load":a.lazyLoad,onError:a.handleError,onLoad:a.handleLoad},null,8,["src","mode","lazy-load","onError","onLoad"])):o(a.$slots,"placeholder",{key:0},(()=>[c(k,{class:"cl-avatar__placeholder"},{default:l((()=>[c(v,{class:d({"cl-icon-my":!a.name}),style:i({fontSize:a.parseRpx(a.size/2)})},{default:l((()=>[p(u(a.name[0]),1)])),_:1},8,["class","style"])])),_:1})]))],64))])),_:3},8,["class","style","onClick"])}]]);export{g as _};
