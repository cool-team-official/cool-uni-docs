import{k as e,i as l,_ as a,b as t}from"./cl-page.C3y_EXfh.js";import{d as s,r as o,ac as r,B as n,e as u,f as c,g as i,h as d,w as m,n as f,p,F as v,k as _,t as x,E as y,v as b,j as g,N as h}from"./index-Dlau7bkh.js";import{g as C}from"./index.Bh9A_tHH.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as k}from"./cl-card.BPBZxryb.js";import"./index.AbH2Jzti.js";import"./cl-text.DUw3LhC2.js";const w=j(s({name:"cl-rate",props:{modelValue:{type:Number,default:0},icon:{type:String,default:"cl-icon-favor-fill"},color:{type:[String,Array],default:""},voidColor:{type:String,default:"#C6D1DE"},size:{type:[Number,String],default:40},max:{type:Number,default:5},disabled:{type:Boolean,default:null},showText:{type:Boolean,default:null},texts:{type:Array,default:()=>[]}},setup(a,{emit:t}){const{disabled:s}=e(),u=o(0);r((()=>a.modelValue),(e=>{u.value=Number(e)}),{immediate:!0});const c=n((()=>l(a.texts)?u.value:a.texts[Math.ceil(u.value)-1])),i=n((()=>new Array(a.max).fill(1).map(((e,l)=>{const t=parseInt(String(u.value)),s=u.value-t;return{width:(u.value>l?t>l?100:100*s:0)+"%",color:C({value:u.value,color:a.color,max:a.max})}}))));return{value:u,list:i,text:c,onTap:function(e){if(s.value||a.disabled)return!1;u.value=e+1,t("update:modelValue",u.value),t("change",u.value)}}}}),[["render",function(e,l,t,s,o,r){const n=u(c("cl-icon"),a),C=b;return i(),d(C,{class:"cl-rate"},{default:m((()=>[(i(!0),f(v,null,p(e.list,((l,a)=>(i(),d(C,{class:"cl-rate__icon",key:a,onClick:l=>e.onTap(a)},{default:m((()=>[g(n,{"class-name":e.icon,size:e.size,color:e.voidColor},null,8,["class-name","size","color"]),g(C,{class:"cl-rate__icon-active",style:h({width:l.width})},{default:m((()=>[g(n,{"class-name":e.icon,size:e.size,color:l.color},null,8,["class-name","size","color"])])),_:2},1032,["style"])])),_:2},1032,["onClick"])))),128)),e.showText?(i(),d(C,{key:0,class:"cl-rate__text"},{default:m((()=>[_(x(e.text),1)])),_:1})):y("",!0)])),_:1})}]]);const z=j({},[["render",function(e,l){const a=u(c("cl-rate"),w),s=u(c("cl-card"),k),o=u(c("cl-page"),t);return i(),d(o,{padding:20},{default:m((()=>[g(s,{label:"基础用法"},{default:m((()=>[g(a,{"model-value":2.7})])),_:1}),g(s,{label:"禁用"},{default:m((()=>[g(a,{"model-value":2.7,disabled:""})])),_:1}),g(s,{label:"多色"},{default:m((()=>[g(a,{"model-value":2,color:["#F56C6C","#E6A23C","#67C23A"]})])),_:1}),g(s,{label:"其他图标"},{default:m((()=>[g(a,{"model-value":1,icon:"cl-icon-like"})])),_:1})])),_:1})}]]);export{z as default};
