import{d as a,r as e,g as r,h as s,w as l,V as o,n as t,F as n,D as c,N as d,v as i,q as p,j as u,k as y,t as m,x as f}from"./index-Dlau7bkh.js";import{j as _,u as h}from"./cl-page.C3y_EXfh.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=v(a({name:"cl-avatar",props:{src:String,name:{type:String,default:""},lazyLoad:Boolean,size:{type:Number,default:80},shape:{type:String,default:"circle"},mode:{type:String,default:"scaleToFill"}},emits:["error","load"],setup(a,{emit:r}){const s=e(!1);return{isError:s,handleLoad:function(a){s.value=!1,r("load",a)},handleError:function(a){s.value=!0,r("error",a)},..._(r),...h()}}}),[["render",function(a,e,_,h,v,g){const z=f,k=i,x=p;return r(),s(k,{class:c(["cl-avatar",`cl-avatar--${a.shape}`]),style:d([{height:a.parseRpx(a.size),width:a.parseRpx(a.size)},a.baseStyle]),onClick:a.tap},{default:l((()=>[a.$slots.default?o(a.$slots,"default",{key:0}):(r(),t(n,{key:1},[a.src?a.isError?o(a.$slots,"error",{key:1},(()=>[u(k,{class:"cl-avatar__error"},{default:l((()=>[y(" Error ")])),_:1})])):(r(),s(x,{key:2,class:"cl-avatar__target",src:a.src,mode:a.mode,"lazy-load":a.lazyLoad,onError:a.handleError,onLoad:a.handleLoad},null,8,["src","mode","lazy-load","onError","onLoad"])):o(a.$slots,"placeholder",{key:0},(()=>[u(k,{class:"cl-avatar__placeholder"},{default:l((()=>[u(z,{class:c({"cl-icon-my":!a.name}),style:d({fontSize:a.parseRpx(a.size/2)})},{default:l((()=>[y(m(a.name[0]),1)])),_:1},8,["class","style"])])),_:1})]))],64))])),_:3},8,["class","style","onClick"])}]]);export{g as _};
