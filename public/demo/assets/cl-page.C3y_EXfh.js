import{ai as e,aj as o,ak as l,al as t,am as a,an as n,ao as s,a9 as r,ap as i,aq as c,ar as u,as as d,at as p,au as f,av as g,r as m,B as y,ad as b,a8 as h,d as v,g as k,h as _,D as C,N as B,x as S,R as x,ac as w,aw as T,w as z,E as $,j as V,V as N,O,v as R,k as j,t as M,e as I,f as P,ax as A,ay as H,az as U,aA as F,n as L,p as G,F as E,q,a3 as D,b as J,aB as K,u as Q,c as W,a6 as X,ag as Y,T as Z,U as ee,aC as oe}from"./index-Dlau7bkh.js";import{_ as le}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as te}from"./index.AbH2Jzti.js";var ae=Object.prototype.hasOwnProperty,ne=e((function(e,s){if(o(s)||l(s))t(s,a(s),e);else for(var r in s)ae.call(s,r)&&n(e,r,s[r])}));var se=Object.prototype.hasOwnProperty;function re(e,o){return null!=e&&se.call(e,o)}var ie=Object.prototype.hasOwnProperty;function ce(e){if(null==e)return!0;if(l(e)&&(r(e)||"string"==typeof e||"function"==typeof e.splice||i(e)||c(e)||u(e)))return!e.length;var t=d(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(o(e))return!p(e).length;for(var a in e)if(ie.call(e,a))return!1;return!0}function ue(e){return"number"==typeof e||f(e)&&"[object Number]"==g(e)}function de(e,o,l){const{proxy:t}=h(),a=m();return y((()=>(()=>{let n=t.$parent;for(;n;){if(n.$options.name===e)return r(l)&&b((()=>{const e={};(l||[]).map((o=>{t[o]&&(e[o]=t[o])})),n.__children||(n.__children=[]),ce(e)||n.__children.push(e)})),(o||[]).reduce(((e,o)=>(e[o]=n[o],e)),{});n=n.$parent}return n||a.value})()))}function pe(e){return r(e)?e.map(pe).join(" "):ue(e)?`${e}rpx`:e}const fe=[{key:"padding",rpx:!0},{key:"margin",rpx:!0},{key:"height",rpx:!0},{key:"width",rpx:!0},{key:"font-size",alias:["fontSize"],rpx:!0},{key:"border-radius",alias:["radius","borderRadius"],rpx:!0},{key:"background-color",alias:["backgroundColor"]},{key:"background"},{key:"custom-style",alias:["customStyle"]}];function ge(e={}){const o=h();return{baseStyle:y((()=>function(e){for(var o=-1,l=null==e?0:e.length,t={};++o<l;){var a=e[o];t[a[0]]=a[1]}return t}(fe.map((l=>{const t=[l.key,...l.alias||[]].map((l=>{var t,a;const n=ne({},null==(t=null==o?void 0:o.proxy)?void 0:t.$attrs,null==(a=null==o?void 0:o.proxy)?void 0:a.$props)[l],s=e[l];return void 0!==n?n:s})).find((e=>void 0!==e));return[l.key,l.rpx?pe(t):t]})).filter((e=>void 0!==e[1]))))),parseRpx:pe}}function me(e){return{tap:function(o){e("tap",o)}}}function ye(){const e=de("cl-form",["disabled"]);return{disabled:y((()=>{var o;return null==(o=e.value)?void 0:o.disabled}))}}const be=le(v({name:"cl-icon",props:{name:String,className:String,size:{type:[String,Number],default:30},color:String},setup:()=>({...ge()})}),[["render",function(e,o,l,t,a,n){const s=S;return k(),_(s,{class:C(["cl-icon",e.className||`cl-icon-${e.name}`,`is-${e.color}`]),style:B([e.baseStyle,{fontSize:e.parseRpx(e.size),color:e.color}])},null,8,["class","style"])}]]),{statusBarHeight:he=0}=x();let ve=1;const ke=le(v({name:"cl-popup",props:{modelValue:Boolean,title:String,showHeader:{type:Boolean,default:!0},direction:{type:String,default:"center"},size:{type:[String,Number],default:"auto"},padding:{type:[String,Number],default:32},borderRadius:[Number,Array,String],showCloseBtn:Boolean,backgroundColor:{type:String,default:"#fff"},modal:{type:Boolean,default:!0},modalBackground:{type:String,default:"rgba(0, 0, 0, 0.4)"},closeOnClickModal:{type:Boolean,default:!0},zIndex:{type:Number,default:600}},emits:["update:modelValue","open","opened","close","closed"],setup(e,{emit:o}){const l=m(!1),t=m(!1),a=m(!0),n=m(!1),s=m(0);let r;const i=y((()=>!0)),c=y((()=>{switch(e.direction){case"top":case"bottom":return pe(e.size);case"left":case"right":return"100%"}})),u=y((()=>{switch(e.direction){case"top":case"bottom":return"100%";case"left":case"right":case"center":return pe(e.size)}})),d=y((()=>{var o;if(["left","right","top"].includes(e.direction)){let l=0;(null==(o=T.info())?void 0:o.isCustomNavbar)?l+=he:l+=44+he;let[t]=pe(e.padding).split(" ");return"0rpx"==t&&(t="0px"),`calc(${l}px + ${t})`}return 1}));function p(){s.value=e.zIndex+ve++,l.value||(l.value=!0,a.value=!1,o("update:modelValue",!0),o("open"),clearTimeout(r),r=setTimeout((()=>{n.value=!0,r=setTimeout((()=>{t.value=!0,o("opened")}),350)}),50))}function f(){if(n.value){(()=>{t.value=!1,n.value=!1,o("close"),clearTimeout(r),r=setTimeout((()=>{l.value=!1,o("update:modelValue",!1),a.value=!0,o("closed")}),300)})()}}return w((()=>e.modelValue),(e=>{e?p():f()}),{immediate:!0}),{visible:l,isOpened:t,isClosed:a,isFocus:i,status:n,height:c,width:u,paddingTop:d,zIndex:s,parseRpx:pe,open:p,close:f,modalClose:function(){if(!e.closeOnClickModal)return!1;f()}}}}),[["render",function(e,o,l,t,a,n){const s=R,r=S;return e.visible?(k(),_(s,{key:0,class:C(["cl-popup__wrapper",`cl-popup__wrapper--${e.direction}`,"is-"+(e.status?"open":"close"),{"is-modal":e.modal}]),style:B({zIndex:e.zIndex}),onTouchmove:o[0]||(o[0]=O((()=>{}),["stop","prevent"]))},{default:z((()=>[e.modal?(k(),_(s,{key:0,class:"cl-popup__modal",style:B({background:e.modalBackground}),onClick:e.modalClose},null,8,["style","onClick"])):$("",!0),V(s,{class:"cl-popup",style:B({height:e.height,width:e.width,backgroundColor:e.backgroundColor,borderRadius:e.parseRpx(e.borderRadius)})},{default:z((()=>[e.title&&e.showHeader?(k(),_(s,{key:0,class:"cl-popup__header"},{default:z((()=>[N(e.$slots,"header",{},(()=>[j(M(e.title),1)]))])),_:3})):$("",!0),V(s,{class:"cl-popup__container",style:B({padding:e.parseRpx(e.padding),paddingTop:e.paddingTop})},{default:z((()=>[N(e.$slots,"default")])),_:3},8,["style"]),e.status&&e.showCloseBtn?(k(),_(s,{key:1,class:"cl-popup__close",onClick:e.close},{default:z((()=>[V(r,{class:"cl-icon-close"})])),_:1},8,["onClick"])):$("",!0)])),_:3},8,["style"])])),_:3},8,["class","style"])):$("",!0)}]]);const _e=le(v({name:"cl-loading",props:{color:{type:String,default:"primary"},size:{type:[String,Number],default:40}}}),[["render",function(e,o,l,t,a,n){const s=I(P("cl-icon"),be);return k(),_(s,{"class-name":"cl-loading cl-icon-loading",color:e.color,size:e.size},null,8,["color","size"])}]]);const Ce=le(v({name:"cl-loading-mask",props:{text:String,loading:Boolean,loadingTheme:String,fullscreen:Boolean,color:String,modal:{type:Boolean,default:!0},border:Boolean,background:{type:String,default:"rgba(255, 255, 255, 0.7)"}}}),[["render",function(e,o,l,t,a,n){const s=I(P("cl-loading"),_e),r=S,i=R;return k(),_(i,{class:"cl-loading-mask__wrap"},{default:z((()=>[V(i,{class:C(["cl-loading-mask",[{"is-fullscreen":e.fullscreen,"is-show":e.loading,"is-border":e.border}]]),style:B({background:e.modal&&!e.border?e.background:"transparent",color:e.color})},{default:z((()=>[A(V(i,{class:"cl-loading-mask__content"},{default:z((()=>[V(i,{class:"cl-loading-mask__border"},{default:z((()=>[V(s,{theme:e.loadingTheme,color:e.border?"#ffffff":e.color,size:50},null,8,["theme","color"]),e.text?(k(),_(r,{key:0,class:"cl-loading-mask__text"},{default:z((()=>[j(M(e.text),1)])),_:1})):$("",!0)])),_:1})])),_:1},512),[[H,e.loading]])])),_:1},8,["class","style"]),N(e.$slots,"default")])),_:3})}]]);const Be=le(v({name:"cl-toast",setup(){let e=0;const o=m([]);function l(e){clearTimeout(e.timer),e.visible=!1,F(e.onClose)&&e.onClose(),setTimeout((()=>{e.closed=!0}),300)}function t(e){const{duration:o}=e||{};o>0&&(e.visible=!0,e.timer=setTimeout((()=>{l(e)}),o))}return{list:o,open:function(l){const a={id:e++,visible:!1,closed:!1,icon:"",image:null,message:"",duration:2e3,type:"",position:"center",clear:!1};var n,r;switch(r="message",null!=(n=l)&&s(n,r,re)?Object.assign(a,l):a.message=String(l),a.type){case"success":a.icon="cl-icon-check-border";break;case"warning":a.icon="cl-icon-warning-border";break;case"info":a.icon="cl-icon-help-border";break;case"error":a.icon="cl-icon-close-border"}a.clear?o.value=[a]:o.value.push(a),(a.image||a.icon)&&(a.position="center"),setTimeout((()=>{t(U(o.value))}),50)},close:l,create:t}}}),[["render",function(e,o,l,t,a,n){const s=q,r=S,i=R,c=I(P("cl-popup"),ke);return k(),_(i,{class:"cl-toast__wrap"},{default:z((()=>[(k(!0),L(E,null,G(e.list,(o=>(k(),_(c,{key:o.id,modelValue:o.visible,"onUpdate:modelValue":e=>o.visible=e,padding:0,modal:!1,direction:o.position,"background-color":"transparent"},{default:z((()=>[V(i,{class:C(["cl-toast",{"is-icon":o.image||o.icon}])},{default:z((()=>[o.image||o.icon?(k(),_(i,{key:0,class:"cl-toast__icon"},{default:z((()=>[o.image?(k(),_(s,{key:0,src:o.image.url,mode:o.image.mode||"aspectFill",style:B(o.image.style)},null,8,["src","mode","style"])):(k(),_(r,{key:1,class:C(o.icon)},null,8,["class"]))])),_:2},1024)):$("",!0),N(e.$slots,"default",{},(()=>[V(r,{class:"cl-toast__content"},{default:z((()=>[j(M(o.message),1)])),_:2},1024)]))])),_:2},1032,["class"])])),_:2},1032,["modelValue","onUpdate:modelValue","direction"])))),128))])),_:3})}]]);const Se=le(v({name:"cl-button",props:{size:String,type:{type:String,default:"default"},plain:Boolean,disabled:Boolean,loading:Boolean,loadingTheme:String,loadingColor:String,round:Boolean,border:{type:Boolean,default:!0},icon:String,fill:Boolean,color:String,bold:Boolean,custom:Boolean,formType:String,openType:String,hoverClass:{type:String,default:"button-hover"},hoverStartTime:{type:Number,default:20},hoverStayTime:{type:Number,default:70},appParameter:String,hoverStopPropagation:Boolean,lang:{type:String,default:"en"},sessionForm:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean},setup(e,{emit:o}){const{tap:l}=me(o);return{getPhoneNumber:function(e){o("getphonenumber",e)},getUserInfo:function(e){o("getuserinfo",e)},error:function(e){o("error",e)},openSetting:function(e){o("opensetting",e)},launchApp:function(e){o("launchapp",e)},click:function(e){l(e)},isImg:y((()=>{var o;return null==(o=e.icon)?void 0:o.includes("/")})),...ge()}}}),[["render",function(e,o,l,t,a,n){const s=I(P("cl-loading"),_e),r=q,i=S,c=R,u=D;return k(),_(u,{class:C(["cl-button",e.type&&`cl-button--${e.type}`,e.size&&`cl-button--${e.size}`,{"is-round":e.round,"is-loading":e.loading,"is-plain":e.plain,"is-fill":e.fill,"is-disabled":e.disabled,"is-border":e.border,"is-bold":e.bold,"is-custom":e.custom}]),style:B([e.baseStyle,{color:e.color}]),size:e.size,disabled:e.disabled||e.loading,"form-type":e.formType,"open-type":e.openType,"hover-class":e.hoverClass,"hover-start-time":e.hoverStartTime,"hover-stay-time":e.hoverStayTime,"app-parameter":e.appParameter,"hover-stop-propagation":e.hoverStopPropagation,lang:e.lang,"session-form":e.sessionForm,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,onGetphonenumber:e.getPhoneNumber,onGetuserinfo:e.getUserInfo,onError:e.error,onOpensetting:e.openSetting,onLaunchapp:e.launchApp,onClick:e.click},{default:z((()=>[e.loading?(k(),_(s,{key:0,size:30,color:e.loadingColor,theme:e.loadingTheme},null,8,["color","theme"])):$("",!0),e.icon?(k(),_(c,{key:1,class:"cl-button__icon"},{default:z((()=>[e.isImg?(k(),_(r,{key:0,src:e.icon,mode:"aspectFit"},null,8,["src"])):(k(),_(i,{key:1,class:C([e.icon])},null,8,["class"]))])),_:1})):$("",!0),V(c,{class:"cl-button__text",style:B({color:e.color})},{default:z((()=>[N(e.$slots,"default")])),_:3},8,["style"])])),_:3},8,["class","style","size","disabled","form-type","open-type","hover-class","hover-start-time","hover-stay-time","app-parameter","hover-stop-propagation","lang","session-form","send-message-title","send-message-path","send-message-img","show-message-card","onGetphonenumber","onGetuserinfo","onError","onOpensetting","onLaunchapp","onClick"])}]]);const xe=le(v({name:"cl-dialog",props:{modelValue:Boolean,title:String,textAlign:{type:String,default:"left"},width:{type:String,default:"80%"},closeOnClickModal:{type:Boolean,default:!0},showCloseBtn:Boolean},setup(e,{emit:o}){const l=m(!1);return w((()=>e.modelValue),(e=>{l.value=e}),{immediate:!0}),{visible:l,open:function(){l.value=!0},close:function(){l.value=!1},onClose:function(){o("update:modelValue",!1),o("close")},onClosed:function(){o("closed")}}}}),[["render",function(e,o,l,t,a,n){const s=R,r=S,i=I(P("cl-popup"),ke);return k(),_(s,{class:"cl-dialog__wrapper"},{default:z((()=>[V(i,{modelValue:e.visible,"onUpdate:modelValue":o[0]||(o[0]=o=>e.visible=o),direction:"center","close-on-click-modal":e.closeOnClickModal,size:e.width,"border-radius":16,padding:0,onClose:e.onClose,onClosed:e.onClosed},{default:z((()=>[V(s,{class:"cl-dialog"},{default:z((()=>[e.title?(k(),_(s,{key:0,class:"cl-dialog__header"},{default:z((()=>[N(e.$slots,"header",{},(()=>[j(M(e.title),1)]))])),_:3})):$("",!0),V(s,{class:"cl-dialog__container",style:B({textAlign:e.textAlign})},{default:z((()=>[N(e.$slots,"default")])),_:3},8,["style"]),e.$slots.footer?(k(),_(s,{key:1,class:"cl-dialog__footer"},{default:z((()=>[N(e.$slots,"footer")])),_:3})):$("",!0),e.showCloseBtn?(k(),_(s,{key:2,class:"cl-dialog__close",onClick:e.close},{default:z((()=>[V(r,{class:"cl-icon-close"})])),_:1},8,["onClick"])):$("",!0)])),_:3})])),_:3},8,["modelValue","close-on-click-modal","size","onClose","onClosed"])])),_:3})}]]);const we=le(v({name:"cl-confirm",setup(){const{t:e}=J(),o=m(!1),l=m(!0),t=m(!1),a=m({});let n,s=!1;function r(e="close"){function l(){a.value.callback&&a.value.callback(e),b((()=>{o.value=!1,n()}))}function n(){t.value=!1}s=!0,a.value.beforeClose?a.value.beforeClose(e,{done:l,showLoading:function(){t.value=!0},hideLoading:n}):l()}return{visible:o,loading:t,conf:a,open:function(t){function i(){o.value=!0,l.value=!1,b((()=>{a.value={width:"500rpx",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:e("确认"),cancelButtonText:e("取消"),closeOnClickModal:!0,...t},a.value.duration&&(n=setTimeout((()=>{r("close")}),a.value.duration))}))}s=!1,o.value=!1,clearTimeout(n),l.value?i():setTimeout((()=>{i()}),350)},close:r,onClose:function(){clearTimeout(n),s||r("close")},onClosed:function(){l.value=!0}}}}),[["render",function(e,o,l,t,a,n){const s=S,r=R,i=I(P("cl-button"),Se),c=I(P("cl-dialog"),xe);return k(),_(r,{class:"cl-confirm"},{default:z((()=>[V(c,{modelValue:e.visible,"onUpdate:modelValue":o[2]||(o[2]=o=>e.visible=o),title:e.conf.title,width:e.conf.width,"close-on-click-modal":e.conf.closeOnClickModal,onClose:e.onClose,onClosed:e.onClosed},K({header:z((()=>[V(r,{class:"cl-confirm__header"},{default:z((()=>["error"==e.conf.type?(k(),_(s,{key:0,class:"cl-icon-toast-error"})):"warning"==e.conf.type?(k(),_(s,{key:1,class:"cl-icon-toast-warning"})):"success"==e.conf.type?(k(),_(s,{key:2,class:"cl-icon-toast-success"})):$("",!0),V(s,{class:"cl-confirm__title"},{default:z((()=>[j(M(e.conf.title),1)])),_:1})])),_:1})])),default:z((()=>[V(r,{class:"cl-confirm__container",style:B({textAlign:e.conf.message?"center":"left"})},{default:z((()=>[N(e.$slots,"default",{},(()=>[V(r,{class:"cl-confirm__message"},{default:z((()=>[j(M(e.conf.message),1)])),_:1})]))])),_:3},8,["style"])])),_:2},[e.conf.showCancelButton||e.conf.showConfirmButton?{name:"footer",fn:z((()=>[V(r,{class:"cl-confirm__footer"},{default:z((()=>[e.conf.showCancelButton?(k(),_(r,{key:0,class:"cl-confirm__footer-item"},{default:z((()=>[V(i,{fill:"",onClick:o[0]||(o[0]=o=>e.close("cancel"))},{default:z((()=>[j(M(e.conf.cancelButtonText),1)])),_:1})])),_:1})):$("",!0),e.conf.showConfirmButton?(k(),_(r,{key:1,class:"cl-confirm__footer-item"},{default:z((()=>[V(i,{fill:"",type:"primary",loading:e.loading,onClick:o[1]||(o[1]=o=>e.close("confirm"))},{default:z((()=>[j(M(e.conf.confirmButtonText),1)])),_:1},8,["loading"])])),_:1})):$("",!0)])),_:1})])),key:"0"}:void 0]),1032,["modelValue","title","width","close-on-click-modal","onClose","onClosed"])])),_:3})}]]);const Te=le(v({name:"cl-status-bar",props:{backgroundColor:String,sticky:{type:Boolean,default:!0}},setup(e){const{statusBarHeight:o}=x(),{router:l}=te();return{height:y((()=>`${o}px`)),backgroundColor:y((()=>{var o,t,a;return e.backgroundColor||(null==(t=null==(o=l.info())?void 0:o.style)?void 0:t.navigationBarBackgroundColor)||(null==(a=l.globalStyle)?void 0:a.navigationBarBackgroundColor)||"#ffffff"}))}}}),[["render",function(e,o,l,t,a,n){const s=R;return k(),_(s,{class:C(["cl-status-bar__wrap",[{"is-sticky":e.sticky}]]),style:B({height:e.height})},{default:z((()=>[V(s,{class:"cl-status-bar",style:B({backgroundColor:e.backgroundColor})},null,8,["style"])])),_:1},8,["class","style"])}]]);const ze=le(v({name:"cl-page",props:{fullscreen:Boolean,padding:{type:[Number,String],default:0},statusBar:{type:Boolean,default:!0},statusBarBackground:String,backgroundColor:String},setup(e){const{refs:o,setRefs:l,router:t}=te(),a=Q(),n=t.info(),{t:s}=J(),{statusBarHeight:r=0,screenHeight:i,windowHeight:c,safeAreaInsets:u}=x(),{proxy:d}=h(),p=!!(null==n?void 0:n.isCustomNavbar)&&e.statusBar,f=y((()=>{var o,l;return e.backgroundColor||(null==(l=null==(o=t.info())?void 0:o.style)?void 0:l.backgroundColor)||t.globalStyle.backgroundColor||"#ffffff"})),g=y((()=>{if(!e.fullscreen)return"auto";let o=0;return o=c,o-((null==u?void 0:u.bottom)||0)+"px"})),m=W({loading:!1,border:!1,text:s("加载中")});const b=t.currentPage();return b&&(b["cl-page"]={loaded:!1,showLoading:function(e){m.loading=!0,oe(e)?m.text=e:Object.assign(m,e)},hideLoading:function(){m.loading=!1},showToast:function(e){var l;null==(l=o.toast)||l.open(e)},showConfirm:function(e){var l;null==(l=o.confirm)||l.open(e)},showTips:function(e,l){var t;null==(t=o.confirm)||t.open({title:s("提示"),message:e,showCancelButton:!1,callback:l})}},X((()=>{b["cl-page"].loaded=!0}))),d.$root.scrollTo=o=>{if(o-=(null==n?void 0:n.isCustomNavbar)?r:0,e.padding){const[l]=pe(e.padding).split(" ");o-=Y(parseInt(l))}Z().in(d).select(".cl-page").boundingClientRect((e=>{Z().in(d).select(".safe-area-bottom").boundingClientRect((l=>{const t=o+((null==e?void 0:e.height)||0)-((null==l?void 0:l.bottom)||0);ee({scrollTop:t,duration:100})})).exec()})).exec()},{app:a,background:f,height:g,refs:o,setRefs:l,loader:m,parseRpx:pe,statusBar:p}}}),[["render",function(e,o,l,t,a,n){const s=I(P("cl-loading-mask"),Ce),r=I(P("cl-toast"),Be),i=I(P("cl-confirm"),we),c=I(P("cl-status-bar"),Te),u=R;return k(),L(E,null,[V(u,{class:C(["cl-page",[`theme-${e.app.theme.name}`,{"is-fullscreen":e.fullscreen}]]),style:B({padding:e.parseRpx(e.padding),height:e.height})},{default:z((()=>[V(s,{fullscreen:"",loading:e.loader.loading,text:e.loader.text,border:e.loader.border},null,8,["loading","text","border"]),V(r,{ref:e.setRefs("toast")},null,512),V(i,{ref:e.setRefs("confirm")},null,512),e.statusBar?(k(),_(c,{key:0,"background-color":e.statusBarBackground},null,8,["background-color"])):$("",!0),N(e.$slots,"default"),e.fullscreen?$("",!0):(k(),_(u,{key:1,class:"safe-area-bottom"}))])),_:3},8,["class","style"]),V(u,{class:"cl-page__bg",style:B({background:e.background})},null,8,["style"])],64)}]]);export{be as _,ke as a,ze as b,Se as c,Ce as d,Be as e,_e as f,de as g,ue as h,ce as i,me as j,ye as k,we as l,xe as m,ne as n,pe as p,ge as u};
